---
title: 3. Blue/Green 배포, Canary 배포 개념
description: '3. Blue/Green 배포, Canary 배포 개념'
category: 'First Step'
position: 3
---

## Blue/Green 배포 
블루 그린 배포를 위해서는 제일 처음에는 아래와 같이 현재 `Active` 인 서비스는 그대로 두고 `Preview` 를 하나 더 기동합니다. 만약 EKS와 같은 클라우드 밴더를 사용한다면 ingress 에 매핑되는 ALB 역시도 하나 더 기동됩니다.<br>

이 때 실제 트래픽은 `Active` 로 유입됩니다. `Preview` 는 현재 대기중인 상태입니다. 
<img src="https://raw.githubusercontent.com/chagchagchag/argocd-rollout-deploy-docs/main/content/en/0.first-step/img/CONCEPT-BLUEGREEN/1.png"/>
<br>

이 상태에서 새로운 버전인 `v0.0.2` 로 무중단 배포를 진행해봅니다. 먼저 트래픽을 Preview로 향하도록 한순간에 변경시켜줍니다. 그리고 현재 Preview 를 Active 로 승격(Promote) 시켜줍니다. <br>

이때 만약 Active 가 된 새로운 서비스가 문제가 있거나 이전 버전으로 되돌리고 싶다면 다시 예전버전으로 롤백(Rollback)하는 것 역시 가능합니다.
<img src="https://raw.githubusercontent.com/chagchagchag/argocd-rollout-deploy-docs/main/content/en/0.first-step/img/CONCEPT-BLUEGREEN/2.png"/>
<br>

## Canary 배포
